<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript HTML DOM</title>
</head>
<body>

<!--HTML DOM(文档对象模型)
    通过HTML DOM，可以访问JavaScript HTML文档的所有元素
    当网页加载时，浏览器会创建页面的文档对象模型(Document Object Model)
    HTML DOM 模型被构造为对象的树
        JavaScript 能够改变页面中的所有HTML元素
        JavaScript 能够改变页面中的所有HTML属性
        JavaScript 能够改变页面中的所有CSS样式
        JavaScript 能够对页面中的所有事件做出反应

        查找HTML元素
            通过ID找到HTML元素
                实例：
                    var x = document.getElementById("intro");
            通过标签名找到HTML元素
                实例：  //本例查找ID="main"的元素，然后查找id="main"元素中所有的<p>元素
                    var x = document.getElementById("main");
                    var y = x.getElementsByTagName("p");
            通过类名找到HTML元素
                    var x = document.getElementsByClassName("intro");
-->
    <!-- JavaScript HTML DOM -改变HTML
        改变 HTML 输出流
        实例：
            <script>
                document.write(Date());
            </script>

        改变 HTML 内容
        实例：
            <p id = "p1"> Hello world! </p>
            <script>
                document.getElementById("p1").innerHTML = "我来，我见，我征服";
            </script>

        改变 HTML 属性    //document.getElementById(id).attribute=新属性值
        实例：
            <img id="image" src="smiley.gif">
            <script>
                document.getElementById("image").src="landscape.jpg";
            </script>
    -->

    <!-- 改变 HTML  样式: document.getElementById(id).style.property=新样式;
        实例：
            <p id="p1">Hello world!</p>
            <p id="p2">Hello world!</p>
            <script>
                document.getElementById("p2").style.color="blue";
                document.getElementById("p2").style.fontFamily="Arial";
                document.getElementById("p2").style.fontSize="larger";
            </script>
    -->

    <!--使用事件
        元素被点击
        页面加载完成
        输入框被修改

        实例：
            <h1 id="id1" >标题</p>
            <button type="button" onclick="document.getElementById("id1").style.color='red'">测试</button>
    -->
    <!--HTML事件的例子：
        当用户点击鼠标时    //onclick=JavaScript
        当网页已加载时
        当图像已加载时
        当鼠标移动到元素时
        当输入字段被修改时
        当提交HTML表单时
        当用户触发按键时

        实例：从事件处理器调用一个函数
            <script>
                function changetext(id) {
                    id.innerHTML = "Ooops!";
                }
            </script>
            <h1 onclick="changetext(this)">点我,引爆！</h1>


        HTML事件属性
        实例：向button元素分配onclick事件
            <button onclick="displayDate()">点这里！</button>

        使用 HTML DOM 来分配事件
        实例：
            <script>
                document.getElementById("myBtn").onclick=function(){displayDate()};
            </script>

        onload 和onunload 事件
        实例：
            <body onload="checkCookies()">
            <script>
                function checkCookies() {
                    if (navigator.cookieEnabled==true){
                        alert("Cookies 可用");
                    }else{
                        alert("Cookies 不可用");
                    }
                }
            </script>

        onchange 事件
        onchange事件常结合对输入字段的验证来使用
        实例：
            <script>
                function myFunction() {
                    var x = document.getElementBuId("fname");
                    x.value = x.value.toUpperCase();
                }
            </script>
            <input type="text" id="fname" onchange="upperCase()">

        onmouseover和onmouseout事件
        实例：
            <div onmouseover="mOver(this)" onmouseout="mOut(this)" style="background-color:#D94A38;width:120px;height:20px;padding:40px;">Mouse Over Me</div>
            <script>
            function mOver(obj){
                obj.innerHTML="Thank You"
            }
            function mOut(obj){
                obj.innerHTML="Mouse Over Me"
            }
            </script>

        onmousedown、onmouseup 以及 onclick 事件
        实例：

    -->
    <!-- JavaScript HTML DOM EventListener

        addEventListener()方法
        实例：
            <button id="myBtn">点我</button>
            <p id="p"></p>

            <script>
                document.getElementById("myBtn").addEventListener("click", displayDate);
                function displayDate() {
                    document.getElementById("p").innerHTML="改变的P";
                }
            </script>

        语法：element.addEventListener(event, function, useCapture);
            第一个参数是事件的类型(如"click" or "mousedown")
            第二个参数是事件触发后调用的函数
            第三个参数是个布尔值用于描述事件是冒泡还是捕获

            注：不要使用"on"前缀。例如，使用"click",而不是使用"onclick"

        向原元素添加事件句柄
        实例：
            <button id="myBtn">点我！</button>
            <script>
                document.getElementById("myBtn").addEventListener("click", function () {
                    alert("Hello World");
                });
            </script>

        实例：可以使用函数名来引用外部函数
            <button id="myBtn">点我！</button>
            <script>
                document.getElementById("myBtn").addEventListener("click", myFunction);
                function myFunction() {
                    alert("Hello world!!!");
                }
            </script>

        实例：向同一个元素添加多个事件句柄
            element.addEventListener("mouseover", myFunction);
            element.addEventListener("click", mySecondFunction);
            element.addEventListener("mouseout", myThirdFunction);

        实例：向Window对象添加事件句柄
            window.addEventListener("resize", function() {
                document.getElementById("demo").innerHTML= sometext;
            });

        传递参数
        实例：当传递参数值时，使用“匿名函数”调用带参数的函数
            element.addEventListener("click", function() { myFunction(p1, p2); });

            <button id="myBtn">点我</button>
            <p id="p"></p>

            <script>
                var p1 = 5;
                var p2 = 7;
                document.getElementById("myBtn").addEventListener("click", function() {
                    myFunction(p1, p2);
                });
                function myFunction(a, b) {
                    var result = a * b;
                    document.getElementById("p").innerHTML = result;
                }
            </script>

        事件冒泡或事件捕获？
        事件传递有两种方式：冒泡与捕获。
        事件传递定义了元素事件触发的顺序。 如果你将 <p> 元素插入到 <div> 元素中，用户点击 <p> 元素, 哪个元素的 "click" 事件先被触发呢？
        在 冒泡 中，内部元素的事件会先被触发，然后再触发外部元素，即： <p> 元素的点击事件先触发，然后会触发 <div> 元素的点击事件。
        在 捕获 中，外部元素的事件会先被触发，然后才会触发内部元素的事件，即： <div> 元素的点击事件先触发 ，然后再触发 <p> 元素的点击事件。
        addEventListener() 方法可以指定 "useCapture" 参数来设置传递类型：

        addEventListener(event, function, useCapture);
        默认值为false，即冒泡传递，当值为true时，事件使用捕获传递。
        实例：
            document.getElementById("myDiv").addEventListener("click", myFunction, true);

        removeEventListener()方法
            removeEventListener() 方法移除由addEventListener()方法添加的事件句柄
        实例：
            element.removeEventListener("mousemove", myFunction);


        实例：   跨浏览器解决方法

            var x = document.getElementById("myBtn");
            if (x.addEventListener) {   // 所有主流浏览器，除了IE 8 及更早版本浏览器
                x.addEventListener("click", myFunction);
            } else if (x.attachEvent) {     //IE 8 及更早版本的浏览器
                x.attachEvent("onclick", myFunction);
            }
    -->

    <!--JavaSctip HTML DOM元素(节点)
        创建新的HTML元素(节点)-appendChild()
        实例：
            <div id="div1">
            <p id="p1">这是一个段落</p>
            <p id="p2">这是另一个段落</p>
            </div>

            <script>
                var para = document.createElement("p"); //创建<p>元素
                var node = document.createTextNode("这是一个新的段落");//为<p>元素创建一个新的文本节点
                para.appendChild(node);//将文件节点添加到 <p>元素中

                var element = document.getElementById("div1");  //找到div
                element.appendChild(para);//把<p>元素添加到<div>里.  这里是添加到元素结尾的地方
                    (or  element.insertBefore(para);  //把<p>添加到元素开始的地方。 )

            </script>

        移除已存在的元素   removeChild()
        实例：
            <div id="div1">
            <p id="p1">这是一个段落</p>
            <p id="p2">这是另一个段落</p>
            </div>

            <script>
                var parent = document.getElementById("div1");
                var child = document.getElementById("p1");
                parent.removeChild(child);
            </script>

        以下代码是已知要查找的子元素，然后查找其父元素，再删除这个子元素（删除节点必须知道父节点）
            var child = document.getElementById("p1");
            child.parentNode.removeChild(child);

        替换HTML元素-replaceChild()
        实例：
            <div id="div1">
            <p id="p1">这是一个段落</p>
            <p id="p2">这是另一个段落</p>
            </div>

            <script>
                var para = document.createElement("div1");
                var node = document.createTextNode("这是一个新的段落");
                para.appendChild(node);

                var parent = document.getElementById("div1");
                var child = document.getElementById("p1");
                paraent.replaceChild(para, child);  //替换？
            </script>

    -->

    <!--JavaScript HTML DOM 集合(Collection)
        HTMLCollection对象
            getElementByTagName()方法返回HTMLCollection对象
            HTMLCollection 对象类似包含HTML元素的一个数组
        实例： 获取文档所有的<p>元素
            var x = document.getElementByTagName("p");
            //集合元素可以通过索引(以0为起始位置)来访问
            y = x[1];//访问第二个<p>元素

        HTMLCollection对象length属性
        实例： HTMLCollection对象的length属性定义了集合中元素的数量
            var myCollection = document.getElementByTagName("p");  //获取<p>元素的集合
            document.getElementById("demo").innerHTML = myCollection.length;    //显示集合元素个数

        注：HTMLCollection 不是一个数组！！！
    -->
    <!-- JavaScript HTML DOM节点列表
        NodeList对象是一个从文档中获取的节点列表(集合)
        NodeList对象类似HTMLCollection对象
        一些旧版本浏览器中的方法(如：getElementByClassName())返回的是NodeList对象，而不是HTMLCollection对象
        所有浏览器的childNodes属性返回的是NodeList对象
        大部分浏览器的querySelectorAll()返回NodeList对象

        实例： 以下代码选取了文档中所的<p>节点
            var myNodeList = document.querySelectorAll("p");
            //NodeList中的元素可以通过索引(以0为起始位置)来访问
            y = myNodeList[1];   //访问第二个<p>元素
            document.getElemntById("demo").innerHTML = myNodeList.length; //显示节点列表的元素个数


    -->


</body>
</html>